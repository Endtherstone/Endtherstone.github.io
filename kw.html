<script>
// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ
function setCookie(name, value, days) {
  const d = new Date();
  d.setTime(d.getTime() + (days*24*60*60*1000));
  document.cookie = `${name}=${value};expires=${d.toUTCString()};path=/`;
}

function getCookie(name) {
  const cname = name + "=";
  const decoded = decodeURIComponent(document.cookie);
  const ca = decoded.split(';');
  for(let c of ca) {
    while(c.charAt(0)==' ') c = c.substring(1);
    if(c.indexOf(cname) == 0) return c.substring(cname.length,c.length);
  }
  return "";
}

// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß
window.onload = () => {
  const prevScore = getCookie("techQuizScore");
  if(prevScore) {
    alert(`‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ: ${prevScore} / 10`);
  }
  startGame();
};

function checkAnswer(selected){
  const q = questions[currentQuestion];
  const feedback = document.getElementById('feedback');
  if(selected === q.correct){
    feedback.textContent = "‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!";
    feedback.style.color = "green";
    score++;
  } else {
    feedback.textContent = "‚ùå ‡∏ú‡∏¥‡∏î!";
    feedback.style.color = "red";
  }
  document.getElementById('score').textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${score} / ${questions.length}`;
  setTimeout(()=>{
    currentQuestion++;
    if(currentQuestion<questions.length){
      loadQuestion();
    }else{
      feedback.textContent = `üéâ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢: ${score} / ${questions.length}`;
      document.getElementById('answers').innerHTML = '';
      
      // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏•‡∏á‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ (‡πÄ‡∏Å‡πá‡∏ö 30 ‡∏ß‡∏±‡∏ô)
      const prevScore = getCookie("techQuizScore");
      if(!prevScore || score > parseInt(prevScore)){
        setCookie("techQuizScore", score, 30);
        alert(`‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß: ${score} / ${questions.length}`);
      }
    }
  },1200);
}
</script>
